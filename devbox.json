{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.13.7/.schema/devbox.schema.json",
  "packages": [
    "python311@latest",
    "uv@latest",
    "git@latest",
    "colima@latest",
    "docker@latest",
    "docker-compose@latest",
    "jq@latest",
    "curl@latest",
    "pre-commit@latest"
  ],
  "shell": {
    "init_hook": [
      "echo 'ðŸš€ Devbox environment ready for LearnFinance-2025'",
      "echo '   Run \"devbox run --list\" to see available commands'",
      "pre-commit install --install-hooks"
    ],
    "scripts": {
      "colima:start": ["colima start"],
      "colima:stop": ["colima stop"],
      "n8n:up": ["docker compose up -d"],
      "n8n:down": ["docker compose down"],
      "n8n:logs": ["docker compose logs -f"],
      "brain:setup": ["cd brain_api && uv sync --all-extras"],
      "brain:run": ["cd brain_api && uv sync --all-extras && uv run uvicorn brain_api.main:app --reload --host 0.0.0.0 --port 8000"],
      "brain:test": ["cd brain_api && uv sync --all-extras && uv run pytest"],
      "brain:lint": ["cd brain_api && uv sync --all-extras && uv run ruff check ."],
      "brain:format": ["cd brain_api && uv sync --all-extras && uv run ruff format ."],
      "prefect:setup": ["cd prefect && uv sync --all-extras"],
      "prefect:unit": ["cd prefect && uv run pytest"],
      "prefect:start": ["cd prefect && uv run prefect server start"],
      "prefect:training:test": ["cd prefect && uv run python -m flows.weekly_training --test"],
      "prefect:training:serve": ["cd prefect && uv run python -m flows.weekly_training"],
      "prefect:email:test": ["cd prefect && uv run python -m flows.weekly_forecast_email --test"],
      "prefect:email:serve": ["cd prefect && uv run python -m flows.weekly_forecast_email"],
      "prefect:lint": ["cd prefect && uv run ruff check ."],
      "prefect:format": ["cd prefect && uv run ruff format ."],
      "hf:login": ["uv run huggingface-cli login"],
      "hf:whoami": ["uv run huggingface-cli whoami"]
    }
  }
}

